---
title: Repository Structure
description: Complete overview of the Load Testing & Optimization Agent codebase structure
---

## Root Directory

```
load-opt-agent/
â”œâ”€â”€ Configuration Files
â”‚   â”œâ”€â”€ requirements.txt          # Python dependencies
â”‚   â”œâ”€â”€ env.example               # Environment variables template
â”‚   â””â”€â”€ README.md                 # Project documentation
â”‚
â”œâ”€â”€ Main Scripts
â”‚   â”œâ”€â”€ run_test.py               # Main test execution script
â”‚   â””â”€â”€ FLOW_INTEGRATION.md       # Complete system flow documentation
â”‚
â”œâ”€â”€ Configuration
â”‚   â””â”€â”€ configs/                  # YAML test configurations
â”‚
â”œâ”€â”€ Docker
â”‚   â””â”€â”€ docker/                   # Docker images and configurations
â”‚
â”œâ”€â”€ Analysis Scripts
â”‚   â””â”€â”€ scripts/                  # Performance analysis tools
â”‚
â”œâ”€â”€ Test Scripts
â”‚   â””â”€â”€ tests/                    # k6 and xk6-browser test files
â”‚
â”œâ”€â”€ AI Analysis
â”‚   â””â”€â”€ ai_analysis/              # AI-powered analysis components
â”‚
â”œâ”€â”€ Output
â”‚   â””â”€â”€ output/                   # Test results and reports
â”‚
â””â”€â”€ Documentation
    â””â”€â”€ docs/                     # Mintlify documentation
```

## Configuration Files

### Core Configuration

<Accordion>
  <AccordionItem title="requirements.txt">
    **Purpose**: Python package dependencies
    
    ```txt
    requests>=2.25.1
    pyyaml>=5.4.1
    openai>=0.27.0
    plotly>=5.0.0
    ```
  </AccordionItem>
  
  <AccordionItem title="env.example">
    **Purpose**: Environment variables template
    
    ```bash
    # OpenAI API configuration (optional)
    OPENAI_API_KEY=your-api-key-here
    
    # Test configuration
    TARGET_URL=https://example.com
    K6_VUS=50
    K6_DURATION=5m
    ```
  </AccordionItem>
  
  <AccordionItem title="README.md">
    **Purpose**: Project overview and quick start guide
    
    - Installation instructions
    - Basic usage examples
    - Feature overview
    - Troubleshooting tips
  </AccordionItem>
</Accordion>

## Main Scripts

### Core Execution

<Accordion>
  <AccordionItem title="run_test.py">
    **Purpose**: Main test orchestration script
    
    **Key Functions**:
    - Load YAML configuration
    - Build Docker images
    - Execute protocol tests (k6)
    - Execute browser tests (xk6-browser)
    - Generate analysis reports
    - Create HTML reports
    
    **Usage**:
    ```bash
    python run_test.py configs/pop_website_test.yaml
    ```
  </AccordionItem>
  
  <AccordionItem title="FLOW_INTEGRATION.md">
    **Purpose**: Complete system flow documentation
    
    **Contents**:
    - Test execution flow
    - Data collection & analysis flow
    - Component integration matrix
    - High-load testing optimizations
    - HTML report generation
    - Error handling & recovery
  </AccordionItem>
</Accordion>

## ğŸ“ Configuration Directory

### Test Configurations

```
configs/
â”œâ”€â”€ ğŸ“„ Pre-configured Templates
â”‚   â”œâ”€â”€ quick_test.yaml           # Fast protocol-only test
â”‚   â”œâ”€â”€ browser_test.yaml         # Browser-only test
â”‚   â”œâ”€â”€ comprehensive_test.yaml   # Both protocol and browser
â”‚   â””â”€â”€ pop_website_test.yaml     # High-load test (200 VUs)
â”‚
â”œâ”€â”€ ğŸ“„ Example Configurations
â”‚   â”œâ”€â”€ api_test.yaml             # API endpoint testing
â”‚   â”œâ”€â”€ wordpress_test.yaml       # WordPress site testing
â”‚   â””â”€â”€ test_config.yaml          # Template for custom configs
â”‚
â””â”€â”€ ğŸ“„ Specialized Configurations
    â”œâ”€â”€ 5min_comprehensive_test.yaml  # 5-minute comprehensive test
    â””â”€â”€ technical_analysis.yaml       # Technical analysis focus
```

### Configuration Examples

<Accordion>
  <AccordionItem title="Quick Test (quick_test.yaml)">
    ```yaml
    test_type: protocol
    vus: 20
    duration: 2m
    target: https://example.com
    ```
  </AccordionItem>
  
  <AccordionItem title="High-Load Test (pop_website_test.yaml)">
    ```yaml
    test_type: both
    vus: 200
    duration: 30m
    protocol_settings:
      vus: 200
      duration: 30m
      thresholds:
        http_req_duration: ["p(95)<10000"]
        http_req_failed: ["rate<0.3"]
    browser_settings:
      vus: 50
      duration: 10m
    ```
  </AccordionItem>
</Accordion>

## ğŸ³ Docker Directory

### Container Configurations

```
docker/
â”œâ”€â”€ ğŸ“„ Protocol Testing
â”‚   â””â”€â”€ Dockerfile                # k6 protocol test container
â”‚
â””â”€â”€ ğŸ“„ Browser Testing
    â””â”€â”€ Dockerfile.browser        # xk6-browser test container
```

### Docker Configurations

<Accordion>
  <AccordionItem title="Dockerfile (Protocol)">
    ```dockerfile
    FROM grafana/k6:latest
    
    # Environment optimizations
    ENV K6_DISABLE_COMPRESSION=true
    ENV K6_DISABLE_HTTP2=true
    ENV K6_NO_USAGE_REPORT=true
    
    WORKDIR /app
    ENTRYPOINT ["k6", "run"]
    ```
  </AccordionItem>
  
  <AccordionItem title="Dockerfile.browser (Browser)">
    ```dockerfile
    FROM grafana/xk6-browser:latest
    
    # Browser optimizations
    ENV K6_BROWSER_ENABLED=true
    ENV K6_BROWSER_HEADLESS=true
    
    WORKDIR /app
    ENTRYPOINT ["k6", "run"]
    ```
  </AccordionItem>
</Accordion>

## ğŸ” Analysis Scripts Directory

### Performance Analysis Tools

```
scripts/
â”œâ”€â”€ ğŸ“Š Core Analysis
â”‚   â”œâ”€â”€ enhanced_performance_analyzer.py    # Protocol metrics analysis
â”‚   â”œâ”€â”€ browser_metrics_analyzer.py         # Browser metrics analysis
â”‚   â””â”€â”€ generate_k6_html_report.py          # Primary HTML report generator
â”‚
â”œâ”€â”€ ğŸ“„ Report Generation
â”‚   â”œâ”€â”€ generate_manual_report.py           # Fallback HTML report
â”‚   â”œâ”€â”€ generate_readable_report.py         # Alternative report generator
â”‚   â””â”€â”€ list_test_results.py                # Test results listing
â”‚
â”œâ”€â”€ ğŸ”§ Utility Scripts
â”‚   â”œâ”€â”€ parse_results.py                    # Results parsing utilities
â”‚   â”œâ”€â”€ analyze_k6_metrics.py               # k6 metrics analysis
â”‚   â””â”€â”€ page_resource_analyzer.py           # Page resource analysis
â”‚
â”œâ”€â”€ ğŸ§ª Testing Scripts
â”‚   â”œâ”€â”€ test_ai_analysis.py                 # AI analysis testing
â”‚   â”œâ”€â”€ test_openai_integration.py          # OpenAI integration testing
â”‚   â”œâ”€â”€ test_system.py                      # System testing
â”‚   â””â”€â”€ test_fallback_system.py             # Fallback system testing
â”‚
â””â”€â”€ ğŸ“‹ Documentation
    â””â”€â”€ README.md                           # Scripts documentation
```

### Key Analysis Scripts

<Accordion>
  <AccordionItem title="enhanced_performance_analyzer.py">
    **Purpose**: Comprehensive protocol metrics analysis
    
    **Features**:
    - HTTP timing breakdown analysis
    - Data transfer analysis
    - Load distribution analysis
    - Performance scoring
    - Issue detection and recommendations
    
    **Output**: `enhanced_analysis_report.json`
  </AccordionItem>
  
  <AccordionItem title="browser_metrics_analyzer.py">
    **Purpose**: Browser performance analysis
    
    **Features**:
    - Core Web Vitals analysis
    - Resource loading analysis
    - Performance issues detection
    - Browser-specific scoring
    - Front-end optimization insights
    
    **Output**: `browser_summary_analysis.json`
  </AccordionItem>
  
  <AccordionItem title="generate_k6_html_report.py">
    **Purpose**: Primary HTML report generation
    
    **Features**:
    - Interactive Plotly visualizations
    - Navigation system with jump links
    - Responsive design
    - Comprehensive data display
    - Error handling
    
    **Output**: `load_test_report.html`
  </AccordionItem>
  
  <AccordionItem title="generate_manual_report.py">
    **Purpose**: Fallback HTML report generation
    
    **Features**:
    - Simple, clean design
    - Analysis file integration
    - Error recovery
    - Self-contained HTML
    
    **Output**: `manual_load_test_report.html`
  </AccordionItem>
</Accordion>

## ğŸ§ª Test Scripts Directory

### Load Test Definitions

```
tests/
â”œâ”€â”€ ğŸ“„ Protocol Tests
â”‚   â””â”€â”€ load_test.js              # k6 protocol test script
â”‚
â””â”€â”€ ğŸ“„ Browser Tests
    â””â”€â”€ browser_load_test.js      # xk6-browser test script
```

### Test Scripts

<Accordion>
  <AccordionItem title="load_test.js (Protocol)">
    **Purpose**: k6 protocol-level load testing
    
    **Features**:
    - HTTP request testing
    - Ramp-up strategy implementation
    - Memory optimizations
    - Custom metrics collection
    - Error handling
    
    ```javascript
    export const options = {
      stages: [
        { duration: '2m', target: 50 },
        { duration: '5m', target: 200 },
        { duration: '2m', target: 0 }
      ],
      discardResponseBodies: true,
      thresholds: {
        http_req_duration: ['p(95)<10000'],
        http_req_failed: ['rate<0.3']
      }
    };
    ```
  </AccordionItem>
  
  <AccordionItem title="browser_load_test.js (Browser)">
    **Purpose**: xk6-browser front-end testing
    
    **Features**:
    - Real browser testing with Chromium
    - Core Web Vitals measurement
    - Resource loading analysis
    - User interaction simulation
    - Performance metrics collection
    
    ```javascript
    export default function() {
      const page = browser.newPage();
      page.goto('https://example.com');
      
      // Measure Core Web Vitals
      const metrics = page.evaluate(() => {
        return {
          fcp: performance.getEntriesByName('first-contentful-paint')[0]?.startTime,
          lcp: performance.getEntriesByName('largest-contentful-paint')[0]?.startTime
        };
      });
    }
    ```
  </AccordionItem>
</Accordion>

## ğŸ¤– AI Analysis Directory

### AI-Powered Analysis

```
ai_analysis/
â”œâ”€â”€ ğŸ“„ Core AI Components
â”‚   â”œâ”€â”€ analysis_agent.py         # Main AI analysis agent
â”‚   â”œâ”€â”€ openai_enhanced_agent.py  # OpenAI integration
â”‚   â””â”€â”€ technology_templates.yaml # Technology-specific patterns
â”‚
â””â”€â”€ ğŸ“„ AI Configuration
    â””â”€â”€ templates/                 # AI analysis templates
```

### AI Components

<Accordion>
  <AccordionItem title="analysis_agent.py">
    **Purpose**: Main AI analysis orchestration
    
    **Features**:
    - Data collection from all sources
    - Technology-specific analysis
    - Recommendation generation
    - Report creation
  </AccordionItem>
  
  <AccordionItem title="openai_enhanced_agent.py">
    **Purpose**: OpenAI API integration
    
    **Features**:
    - GPT model integration
    - Context-aware analysis
    - Technology-specific insights
    - Implementation guidance
  </AccordionItem>
  
  <AccordionItem title="technology_templates.yaml">
    **Purpose**: Technology-specific analysis patterns
    
    **Contents**:
    - Framework-specific optimizations
    - Technology best practices
    - Common performance issues
    - Optimization strategies
  </AccordionItem>
</Accordion>

## ğŸ“Š Output Directory

### Test Results Organization

```
output/
â””â”€â”€ ğŸ“ Site-based Organization
    â””â”€â”€ site_name/
        â”œâ”€â”€ ğŸ“ Timestamped Runs
        â”‚   â”œâ”€â”€ 20250811_223723/           # Latest test run
        â”‚   â”‚   â”œâ”€â”€ protocol_summary.json  # Raw k6 data (JSONL)
        â”‚   â”‚   â”œâ”€â”€ browser_summary.json   # Raw browser data
        â”‚   â”‚   â”œâ”€â”€ enhanced_analysis_report.json
        â”‚   â”‚   â”œâ”€â”€ browser_summary_analysis.json
        â”‚   â”‚   â”œâ”€â”€ load_test_report.html  # Interactive report
        â”‚   â”‚   â””â”€â”€ manual_load_test_report.html
        â”‚   â”‚
        â”‚   â”œâ”€â”€ 20250811_215741/           # Previous test run
        â”‚   â””â”€â”€ 20250811_191533/           # Earlier test run
        â”‚
        â””â”€â”€ ğŸ”— Latest Symlink
            â””â”€â”€ latest -> 20250811_223723/  # Points to most recent
```

### Output File Types

<Accordion>
  <AccordionItem title="Raw Data Files">
    - **`protocol_summary.json`**: k6 metrics in JSONL format (50MB-1GB)
    - **`browser_summary.json`**: xk6-browser metrics (100MB-1GB)
  </AccordionItem>
  
  <AccordionItem title="Analysis Files">
    - **`enhanced_analysis_report.json`**: Processed protocol analysis (1-10MB)
    - **`browser_summary_analysis.json`**: Processed browser analysis (1-10MB)
  </AccordionItem>
  
  <AccordionItem title="HTML Reports">
    - **`load_test_report.html`**: Interactive comprehensive report (100-500KB)
    - **`manual_load_test_report.html`**: Fallback report (100-500KB)
  </AccordionItem>
  
  <AccordionItem title="AI Reports (Optional)">
    - **`ai_analysis_report.json`**: AI recommendations (1-5MB)
    - **`ai_analysis_report.html`**: AI HTML report (100-500KB)
    - **`ai_analysis_report.md`**: AI markdown report (10-50KB)
  </AccordionItem>
</Accordion>

## ğŸ“š Documentation Directory

### Mintlify Documentation

```
docs/
â”œâ”€â”€ ğŸ“„ Main Pages
â”‚   â”œâ”€â”€ index.mdx                 # Landing page
â”‚   â”œâ”€â”€ quick-start.mdx           # Quick start guide
â”‚   â””â”€â”€ configuration.mdx         # Configuration reference
â”‚
â”œâ”€â”€ ğŸ“ Features
â”‚   â”œâ”€â”€ performance-analysis.mdx  # Performance analysis features
â”‚   â”œâ”€â”€ test-results.mdx          # Test results documentation
â”‚   â”œâ”€â”€ ai-analysis.mdx           # AI analysis features
â”‚   â””â”€â”€ repository-structure.mdx  # This file
â”‚
â”œâ”€â”€ ğŸ“ Guides
â”‚   â”œâ”€â”€ running-tests.mdx         # Test execution guide
â”‚   â”œâ”€â”€ interpreting-results.mdx  # Results interpretation
â”‚   â””â”€â”€ troubleshooting.mdx       # Troubleshooting guide
â”‚
â”œâ”€â”€ ğŸ“ Reference
â”‚   â”œâ”€â”€ api-reference.mdx         # Script API documentation
â”‚   â”œâ”€â”€ examples.mdx              # Usage examples
â”‚   â””â”€â”€ metrics-reference.mdx     # Metrics documentation
â”‚
â””â”€â”€ ğŸ“„ Configuration
    â”œâ”€â”€ _config.yml               # Mintlify configuration
    â””â”€â”€ mint.json                 # Mintlify metadata
```

### Documentation Structure

<Accordion>
  <AccordionItem title="Main Documentation">
    - **index.mdx**: Project overview and key features
    - **quick-start.mdx**: Getting started guide
    - **configuration.mdx**: YAML configuration reference
  </AccordionItem>
  
  <AccordionItem title="Feature Documentation">
    - **performance-analysis.mdx**: Protocol and browser testing
    - **test-results.mdx**: HTML reports and analysis
    - **ai-analysis.mdx**: AI-powered recommendations
    - **repository-structure.mdx**: Codebase organization
  </AccordionItem>
  
  <AccordionItem title="Guides">
    - **running-tests.mdx**: Test execution instructions
    - **interpreting-results.mdx**: Results analysis guide
    - **troubleshooting.mdx**: Common issues and solutions
  </AccordionItem>
  
  <AccordionItem title="Reference">
    - **api-reference.mdx**: Script documentation
    - **examples.mdx**: Usage examples
    - **metrics-reference.mdx**: Metrics definitions
  </AccordionItem>
</Accordion>

## ğŸ”§ Development Workflow

### File Organization Principles

<Accordion>
  <AccordionItem title="Separation of Concerns">
    - **Configuration**: YAML files for test settings
    - **Execution**: Python scripts for orchestration
    - **Testing**: JavaScript files for load tests
    - **Analysis**: Python scripts for data processing
    - **Documentation**: Markdown files for guides
  </AccordionItem>
  
  <AccordionItem title="Modularity">
    - **Independent Components**: Each script has a single responsibility
    - **Configurable**: Settings externalized to YAML files
    - **Extensible**: Easy to add new analysis components
    - **Maintainable**: Clear separation of concerns
  </AccordionItem>
  
  <AccordionItem title="Scalability">
    - **Docker-based**: Containerized for consistency
    - **Resource-aware**: Optimized for high-load testing
    - **Error-handling**: Robust error recovery
    - **Fallback Systems**: Multiple report generation options
  </AccordionItem>
</Accordion>

---

<div className="cta">
  <h3>Ready to explore the codebase?</h3>
  <p>Now that you understand the structure, dive into the specific components and start customizing.</p>
  <a href="/quick-start" className="btn btn-primary">Get Started</a>
</div> 