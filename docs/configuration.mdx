---
title: Configuration Reference
description: Complete guide to YAML configuration options for load testing with browser testing and high-load optimizations
---

# Configuration Reference

Learn how to configure your load tests using YAML configuration files with support for protocol testing, browser testing, and high-load optimizations.

## Basic Configuration

All load tests are configured using YAML files in the `configs/` directory. Here's a complete example:

```yaml
# Target URL to test (any web application)
target: https://example.com/contact

# Test type: protocol, browser, or both
test_type: both

# Number of virtual users (concurrent users)
vus: 50

# Test duration (supports: 30s, 1m, 5m, 1h, etc.)
duration: 30s

# Protocol-specific settings
protocol_settings:
  vus: 50
  duration: 30s
  thresholds:
    http_req_duration: ["p(95)<5000"]
    http_req_failed: ["rate<0.1"]

# Browser-specific settings
browser_settings:
  vus: 5
  duration: 1m
  timeout: "30s"

# Site description for AI analysis (optional)
description: "Example website for load testing"

# Tags for categorization and AI analysis (optional)
tags:
  - "example"
  - "contact-form"
  - "static-site"
```

## Configuration Options

### Required Fields

<Accordion>
  <AccordionItem title="target">
    **Type**: `string`  
    **Required**: Yes  
    **Description**: The URL to test (any web application)
    
    ```yaml
    target: https://example.com/contact
    target: https://api.example.com/v1/users
    target: https://wordpress.org/
    ```
  </AccordionItem>
  
  <AccordionItem title="test_type">
    **Type**: `string`  
    **Required**: No (defaults to "both")  
    **Description**: Type of test to run
    
    ```yaml
    test_type: protocol    # Protocol-level testing only
    test_type: browser     # Browser-level testing only
    test_type: both        # Both protocol and browser testing
    ```
  </AccordionItem>
  
  <AccordionItem title="vus">
    **Type**: `integer`  
    **Required**: Yes  
    **Description**: Number of virtual users (concurrent users)
    
    ```yaml
    vus: 10    # Light load
    vus: 50    # Medium load
    vus: 100   # Heavy load
    vus: 200   # High-load test
    ```
  </AccordionItem>
  
  <AccordionItem title="duration">
    **Type**: `string`  
    **Required**: Yes  
    **Description**: Test duration in k6 format
    
    ```yaml
    duration: 30s    # 30 seconds
    duration: 1m     # 1 minute
    duration: 5m     # 5 minutes
    duration: 30m    # 30 minutes
    ```
  </AccordionItem>
</Accordion>

### Protocol Testing Configuration

<Accordion>
  <AccordionItem title="protocol_settings">
    **Type**: `object`  
    **Required**: No  
    **Description**: Protocol-specific test configuration
    
    ```yaml
    protocol_settings:
      vus: 50                    # Protocol virtual users
      duration: 30s              # Protocol test duration
      thresholds:
        http_req_duration: ["p(95)<5000"]    # Response time threshold
        http_req_failed: ["rate<0.1"]        # Error rate threshold
      timeout: "30s"             # Request timeout
    ```
  </AccordionItem>
  
  <AccordionItem title="thresholds">
    **Type**: `object`  
    **Required**: No  
    **Description**: Performance thresholds for protocol tests
    
    ```yaml
    thresholds:
      http_req_duration: ["p(95)<5000"]    # 95th percentile < 5s
      http_req_failed: ["rate<0.1"]        # Error rate < 10%
      http_req_duration: ["p(99)<10000"]   # 99th percentile < 10s
    ```
  </AccordionItem>
</Accordion>

### Browser Testing Configuration

<Accordion>
  <AccordionItem title="browser_settings">
    **Type**: `object`  
    **Required**: No  
    **Description**: Browser-specific test configuration
    
    ```yaml
    browser_settings:
      vus: 5                     # Browser virtual users (lower than protocol)
      duration: 1m               # Browser test duration
      timeout: "30s"             # Page load timeout
      headless: true             # Run in headless mode
      viewport:
        width: 1920
        height: 1080
    ```
  </AccordionItem>
  
  <AccordionItem title="browser_timeout">
    **Type**: `string`  
    **Required**: No  
    **Description**: Timeout for browser page loads
    
    ```yaml
    browser_settings:
      timeout: "30s"    # 30 seconds
      timeout: "1m"     # 1 minute
      timeout: "2m"     # 2 minutes
    ```
  </AccordionItem>
</Accordion>

### High-Load Testing Configuration

<Accordion>
  <AccordionItem title="High-Load Example">
    **Description**: Configuration for high-load testing (200+ VUs)
    
    ```yaml
    target: https://example.com
    test_type: both
    vus: 200
    duration: 30m
    
    protocol_settings:
      vus: 200
      duration: 30m
      thresholds:
        http_req_duration: ["p(95)<10000"]  # Increased timeout
        http_req_failed: ["rate<0.3"]       # Higher error tolerance
    
    browser_settings:
      vus: 50                    # Lower VUs for browser tests
      duration: 10m              # Shorter duration
      timeout: "60s"             # Increased timeout
    ```
  </AccordionItem>
  
  <AccordionItem title="Ramp-up Strategy">
    **Description**: Automatic ramp-up strategy for high-load tests
    
    ```yaml
    # The system automatically implements ramp-up:
    # 0-2m:   Ramp up to 50 VUs
    # 2-5m:   Ramp up to 100 VUs  
    # 5-10m:  Ramp up to 200 VUs
    # 10-25m: Stay at 200 VUs
    # 25-27m: Ramp down to 100 VUs
    # 27-29m: Ramp down to 50 VUs
    # 29-30m: Ramp down to 0 VUs
    ```
  </AccordionItem>
</Accordion>

### Optional Fields

<Accordion>
  <AccordionItem title="description">
    **Type**: `string`  
    **Required**: No  
    **Description**: Site description for AI analysis context
    
    ```yaml
    description: "Frontend is built with Svelte and the Backend is built with Strapi. The frontend application gets its data from the strapi api. This app is an App Service that lives on azure."
    ```
  </AccordionItem>
  
  <AccordionItem title="tags">
    **Type**: `array`  
    **Required**: No  
    **Description**: Technology tags for AI analysis
    
    ```yaml
    tags:
      - "svelte"
      - "strapi"
      - "azure"
      - "react"
      - "nodejs"
    ```
  </AccordionItem>
</Accordion>

## Configuration Examples

### Quick Protocol Test

```yaml
target: https://api.example.com/v1/users
test_type: protocol
vus: 20
duration: 2m
description: "Quick API load test"
tags: ["api", "rest", "nodejs"]
```

### Browser-Only Test

```yaml
target: https://example.com
test_type: browser
browser_settings:
  vus: 5
  duration: 1m
  timeout: "30s"
description: "Front-end performance test"
tags: ["react", "spa", "frontend"]
```

### Comprehensive Test

```yaml
target: https://example.com
test_type: both
vus: 100
duration: 5m

protocol_settings:
  vus: 100
  duration: 5m
  thresholds:
    http_req_duration: ["p(95)<3000"]
    http_req_failed: ["rate<0.05"]

browser_settings:
  vus: 10
  duration: 2m
  timeout: "45s"

description: "Comprehensive performance test"
tags: ["full-stack", "production", "ecommerce"]
```

### High-Load Stress Test

```yaml
target: https://example.com
test_type: both
vus: 200
duration: 30m

protocol_settings:
  vus: 200
  duration: 30m
  thresholds:
    http_req_duration: ["p(95)<10000"]  # 10s timeout for high load
    http_req_failed: ["rate<0.3"]       # 30% error tolerance

browser_settings:
  vus: 50
  duration: 10m
  timeout: "60s"

description: "High-load stress test"
tags: ["stress-test", "production", "scalability"]
```

## Pre-configured Templates

The system includes several pre-configured templates:

### Quick Test (`configs/quick_test.yaml`)
```yaml
test_type: protocol
vus: 20
duration: 2m
```

### Browser Test (`configs/browser_test.yaml`)
```yaml
test_type: browser
browser_settings:
  vus: 5
  duration: 1m
```

### Comprehensive Test (`configs/comprehensive_test.yaml`)
```yaml
test_type: both
vus: 50
duration: 5m
```

### High-Load Test (`configs/pop_website_test.yaml`)
```yaml
test_type: both
vus: 200
duration: 30m
```

## Performance Considerations

### Resource Usage Guidelines

<Accordion>
  <AccordionItem title="Protocol Tests">
    - **Light Load**: 10-25 VUs, 1-2 minutes
    - **Medium Load**: 50-100 VUs, 2-5 minutes
    - **Heavy Load**: 100-200 VUs, 5-15 minutes
    - **Stress Test**: 200+ VUs, 15-30 minutes
  </AccordionItem>
  
  <AccordionItem title="Browser Tests">
    - **Light Load**: 3-5 VUs, 1-2 minutes
    - **Medium Load**: 5-10 VUs, 2-5 minutes
    - **Heavy Load**: 10-25 VUs, 5-10 minutes
    - **Stress Test**: 25-50 VUs, 10-15 minutes
  </AccordionItem>
  
  <AccordionItem title="Memory Requirements">
    - **Protocol Tests**: ~50-200MB per test
    - **Browser Tests**: ~100-1000MB per test
    - **Analysis**: ~1-10MB per test
    - **HTML Reports**: ~100-500KB per test
  </AccordionItem>
</Accordion>

### Optimization Tips

<Accordion>
  <AccordionItem title="For High-Load Tests">
    ```yaml
    # Use ramp-up strategy
    vus: 200
    duration: 30m
    
    # Increase timeouts
    protocol_settings:
      thresholds:
        http_req_duration: ["p(95)<10000"]
        http_req_failed: ["rate<0.3"]
    
    # Reduce browser VUs
    browser_settings:
      vus: 50  # Instead of 200
    ```
  </AccordionItem>
  
  <AccordionItem title="For Quick Tests">
    ```yaml
    # Use protocol-only for speed
    test_type: protocol
    vus: 20
    duration: 2m
    
    # Lower thresholds
    protocol_settings:
      thresholds:
        http_req_duration: ["p(95)<3000"]
        http_req_failed: ["rate<0.1"]
    ```
  </AccordionItem>
  
  <AccordionItem title="For Browser Tests">
    ```yaml
    # Focus on front-end performance
    test_type: browser
    browser_settings:
      vus: 5
      duration: 1m
      timeout: "30s"
    ```
  </AccordionItem>
</Accordion>

## Environment Variables

The system supports environment variables for configuration:

```bash
# Set target URL
export TARGET_URL=https://example.com

# Set virtual users
export K6_VUS=50

# Set test duration
export K6_DURATION=5m

# Set OpenAI API key (optional)
export OPENAI_API_KEY=your-api-key-here
```

## Validation

The system validates your configuration and provides helpful error messages for:

- **Invalid URLs**: Must be valid HTTP/HTTPS URLs
- **Invalid durations**: Must be in k6 format (30s, 1m, 5m, etc.)
- **Invalid VUs**: Must be positive integers
- **Missing required fields**: Target, VUs, and duration are required
- **Resource constraints**: Warns about high VU counts or long durations

---

<div className="cta">
  <h3>Ready to configure your tests?</h3>
  <p>Now that you understand the configuration options, create your own test configurations.</p>
  <a href="/quick-start" className="btn btn-primary">Run Your First Test</a>
</div> 